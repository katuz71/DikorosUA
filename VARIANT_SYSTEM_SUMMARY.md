# üì¶ –°–∏—Å—Ç–µ–º–∞ –ú—É–ª—å—Ç–∏–≤–∞—Ä—ñ–∞—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¢–æ–≤–∞—Ä—ñ–≤ - –ü—ñ–¥—Å—É–º–æ–∫

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ

### 1. –í–∏–≤—á–µ–Ω–Ω—è –ë–∞–∑–∏ –î–∞–Ω–∏—Ö

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ `products`:**
- `variants` (TEXT) - JSON –º–∞—Å–∏–≤ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- `option_names` (TEXT) - –ù–∞–∑–≤–∏ –æ–ø—Ü—ñ–π —á–µ—Ä–µ–∑ "|" (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ö–æ–ª—ñ—Ä|–†–æ–∑–º—ñ—Ä")
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–æ–ª—ñ–≤: `name`, `price`, `old_price`, `image`, `category`, `unit`

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–∞–ø–æ–≤–Ω–µ–Ω–∞ 13 —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ 3 —Ç–æ–≤–∞—Ä–∏ –∑ —Ä—É—á–Ω–∏–º–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏ (—Å–∫–ª–∞–¥–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó)
- ‚úÖ 10 —Ç–æ–≤–∞—Ä—ñ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è (–∑–∞ –Ω–∞–∑–≤–æ—é)

### 2. –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è –¢–æ–≤–∞—Ä—ñ–≤ –∑–∞ –í–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏

#### –ü—ñ–¥—Ö—ñ–¥ A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è (`services/database.ts`)

**–§—É–Ω–∫—Ü—ñ—è `normalizeProduct()`** —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –∞—Ç—Ä–∏–±—É—Ç–∏ –≤ –Ω–∞–∑–≤—ñ —Ç–æ–≤–∞—Ä—É:

```typescript
// –ü—Ä–∏–∫–ª–∞–¥: "–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π –®–ª—è–ø–∫–∏ 100 –≥ 2024"
{
  baseName: "–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π",
  attributes: {
    year: "2024",        // –í—Ä–æ–∂–∞–π: 2023, 2024, 2025
    form: "–®–ª—è–ø–∫–∏",      // –§–æ—Ä–º–∞: –ú–µ–ª–µ–Ω–∏–π, –¶—ñ–ª—ñ, –ö–∞–ø—Å—É–ª–∏, –ü–æ—Ä–æ—à–æ–∫, –®–ª—è–ø–∫–∏
    weight: "100 –≥"      // –§–∞—Å—É–≤–∞–Ω–Ω—è: 50 –≥, 100 –≥, 250 –≥, 1 –∫–≥
  }
}
```

**–°—Ç–≤–æ—Ä–µ–Ω—ñ –≥—Ä—É–ø–∏ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:**
```javascript
variationGroups: [
  { id: 'year', title: '–í—Ä–æ–∂–∞–π', options: ['2025', '2024', '2023'] },
  { id: 'form', title: '–§–æ—Ä–º–∞ –ø—Ä–æ–¥—É–∫—Ç—É', options: ['–ú–µ–ª–µ–Ω–∏–π', '–®–ª—è–ø–∫–∏', '–¶—ñ–ª—ñ'] },
  { id: 'weight', title: '–§–∞—Å—É–≤–∞–Ω–Ω—è', options: ['50 –≥', '100 –≥', '250 –≥'] }
]
```

**–ü—Ä–∏–∫–ª–∞–¥–∏ –≤ –±–∞–∑—ñ:**
- **–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π** - 5 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ (–®–ª—è–ø–∫–∏/–ú–µ–ª–µ–Ω–∏–π √ó 50–≥/100–≥/250–≥)
- **–á–∂–æ–≤–∏–∫ –ì—Ä–µ–±—ñ–Ω—á–∞—Å—Ç–∏–π** - 3 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ (–ó–µ—Ä–Ω–æ–º—ñ—Ü–µ–ª—ñ–π/–®–ª—è–ø–∫–∏/–ü–æ—Ä–æ—à–æ–∫)
- **–ö–æ—Ä–¥–∏—Ü–µ–ø—Å –ú—ñ–ª—ñ—Ç–∞—Ä—ñ—Å** - 2 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ (50 –≥ / 100 –≥)

#### –ü—ñ–¥—Ö—ñ–¥ B: –†—É—á–Ω–µ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö:**
```json
{
  "option_names": "–¢–∏–ø –≥—Ä–∏–±–∞|–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–ø—Å—É–ª",
  "variants": [
    {
      "name": "–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π|30 –∫–∞–ø—Å—É–ª",
      "price": 1200,
      "old_price": 1500,
      "image": "url.jpg"
    },
    {
      "name": "–ú—É—Ö–æ–º–æ—Ä –ü–∞–Ω—Ç–µ—Ä–Ω–∏–π|60 –∫–∞–ø—Å—É–ª",
      "price": 2800,
      "old_price": 3300,
      "image": "url2.jpg"
    }
  ]
}
```

**–ü—Ä–∏–∫–ª–∞–¥–∏ –≤ –±–∞–∑—ñ:**
- **–ù–∞–±—ñ—Ä –¥–ª—è –ú—ñ–∫—Ä–æ–¥–æ–∑–∏–Ω–≥—É** - 6 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ (3 —Ç–∏–ø–∏ √ó 2 —Ñ–∞—Å—É–≤–∞–Ω–Ω—è)
- **–ì—Ä–∏–±–Ω–∏–π –ß–∞–π Premium** - 6 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ (3 —Å–º–∞–∫–∏ √ó 2 —Ñ–∞—Å—É–≤–∞–Ω–Ω—è)
- **–ï–∫—Å—Ç—Ä–∞–∫—Ç –á–∂–æ–≤–∏–∫–∞** - 4 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ (2 –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—ó √ó 2 –æ–±'—î–º–∏)

### 3. UI –ö–∞—Ä—Ç–æ—á–∫–∏ –¢–æ–≤–∞—Ä—É (`app/product/[id].tsx`)

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**

‚úÖ **–ú–∞—Ç—Ä–∏—á–Ω–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤** - –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤–∏–±–æ—Ä—É –∫–æ–∂–Ω–æ—ó –æ–ø—Ü—ñ—ó
‚úÖ **–î–∏–Ω–∞–º—ñ—á–Ω–∞ –∑–º—ñ–Ω–∞ —Ü—ñ–Ω–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –≤–∞—Ä—ñ–∞–Ω—Ç—É
‚úÖ **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ä–æ—ó —Ü—ñ–Ω–∏** - –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É –æ–∫—Ä–µ–º–æ
‚úÖ **–Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∏–±—Ä–∞–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É** - "–û–±—Ä–∞–Ω–æ: –ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π | 30 –∫–∞–ø—Å—É–ª"
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä** - –ø–µ—Ä—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –æ–±–∏—Ä–∞—î—Ç—å—Å—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
‚úÖ **–ì–Ω—É—á–∫–∏–π –ø–æ—à—É–∫** - `getVariantByOptions()` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –∑–∞ –æ–ø—Ü—ñ—è–º–∏

**–ü—Ä–∏–∫–ª–∞–¥ UI:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ù–∞–±—ñ—Ä –¥–ª—è –ú—ñ–∫—Ä–æ–¥–æ–∑–∏–Ω–≥—É              ‚îÇ
‚îÇ –≤—ñ–¥ 1200 –≥—Ä–Ω                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –¢–∏–ø –≥—Ä–∏–±–∞:                          ‚îÇ
‚îÇ [–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π] [–ú—É—Ö–æ–º–æ—Ä –ü–∞–Ω—Ç–µ—Ä.‚îÇ
‚îÇ [–ü—Å–∏–ª–æ—Ü–∏–±–µ]                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–ø—Å—É–ª:                   ‚îÇ
‚îÇ [30 –∫–∞–ø—Å—É–ª] [60 –∫–∞–ø—Å—É–ª]            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –û–±—Ä–∞–Ω–æ: –ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π | 30 –∫–∞–ø—Å. ‚îÇ
‚îÇ –¶—ñ–Ω–∞: 1200 –≥—Ä–Ω  ~~1500 –≥—Ä–Ω~~ -20%  ‚îÇ
‚îÇ [–í –∫–æ—à–∏–∫]                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ë–∞–∑–∞ –î–∞–Ω–∏—Ö
- **–í—Å—å–æ–≥–æ —Ç–æ–≤–∞—Ä—ñ–≤:** 13
- **–ó —Ä—É—á–Ω–∏–º–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏:** 3 (23%)
- **–î–ª—è –∞–≤—Ç–æ–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è:** 10 (77%)
- **–ö–∞—Ç–µ–≥–æ—Ä—ñ–π:** 4 (–ú—ñ–∫—Ä–æ–¥–æ–∑–∏–Ω–≥, –°—É—à–µ–Ω—ñ –≥—Ä–∏–±–∏, –ï–∫—Å—Ç—Ä–∞–∫—Ç–∏, –ß–∞—ó)

### –í–∞—Ä—ñ–∞–Ω—Ç–∏
- **–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:** 16 (—Ä—É—á–Ω—ñ) + 10 (–∞–≤—Ç–æ) = 26
- **–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:** 2-6 –Ω–∞ —Ç–æ–≤–∞—Ä
- **–¢–∏–ø–∏ –∞—Ç—Ä–∏–±—É—Ç—ñ–≤:** 7 (–≤—Ä–æ–∂–∞–π, —Ñ–æ—Ä–º–∞, —Ñ–∞—Å—É–≤–∞–Ω–Ω—è, —Ç–∏–ø, –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Å–º–∞–∫, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è)

---

## üéØ –Ø–∫ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –î–ª—è –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è

**1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–æ–≤–∞—Ä–∏ –∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏:**
```sql
INSERT INTO products (name, price, category, image) VALUES
  ('–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π –®–ª—è–ø–∫–∏ 50 –≥', 450, '–°—É—à–µ–Ω—ñ –≥—Ä–∏–±–∏', 'image.jpg'),
  ('–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π –®–ª—è–ø–∫–∏ 100 –≥', 800, '–°—É—à–µ–Ω—ñ –≥—Ä–∏–±–∏', 'image.jpg'),
  ('–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π –ú–µ–ª–µ–Ω–∏–π 50 –≥', 400, '–°—É—à–µ–Ω—ñ –≥—Ä–∏–±–∏', 'image.jpg');
```

**2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**
- –í–∏—Ç—è–≥–Ω–µ –±–∞–∑–æ–≤—É –Ω–∞–∑–≤—É: "–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π"
- –†–æ–∑–ø—ñ–∑–Ω–∞—î –∞—Ç—Ä–∏–±—É—Ç–∏: —Ñ–æ—Ä–º–∞ (–®–ª—è–ø–∫–∏, –ú–µ–ª–µ–Ω–∏–π), —Ñ–∞—Å—É–≤–∞–Ω–Ω—è (50 –≥, 100 –≥)
- –°—Ç–≤–æ—Ä–∏—Ç—å –≥—Ä—É–ø–∏ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –¥–ª—è UI
- –û–±'—î–¥–Ω–∞—î —Ç–æ–≤–∞—Ä–∏ –≤ –æ–¥–∏–Ω –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏

### –î–ª—è –†—É—á–Ω–æ–≥–æ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–æ–≤–∞—Ä –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏:**
```sql
INSERT INTO products (
  name, price, category, image,
  option_names, variants
) VALUES (
  '–ù–∞–±—ñ—Ä Premium',
  1200,
  '–ú—ñ–∫—Ä–æ–¥–æ–∑–∏–Ω–≥',
  'image.jpg',
  '–¢–∏–ø|–ö—ñ–ª—å–∫—ñ—Å—Ç—å',
  '[
    {"name":"–¢–∏–ø A|30 —à—Ç","price":1200,"image":"a.jpg"},
    {"name":"–¢–∏–ø B|60 —à—Ç","price":2400,"image":"b.jpg"}
  ]'
);
```

**2. –°–∏—Å—Ç–µ–º–∞:**
- –†–æ–∑–ø–∞—Ä—Å–∏—Ç—å `option_names` ‚Üí ["–¢–∏–ø", "–ö—ñ–ª—å–∫—ñ—Å—Ç—å"]
- –°—Ç–≤–æ—Ä–∏—Ç—å –º–∞—Ç—Ä–∏—Ü—é –æ–ø—Ü—ñ–π –∑ `variants`
- –í—ñ–¥–æ–±—Ä–∞–∑–∏—Ç—å UI –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –≤–∏–±–æ—Ä—É
- –û–Ω–æ–≤–∏—Ç—å —Ü—ñ–Ω—É –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ –≤–∞—Ä—ñ–∞–Ω—Ç—É

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –î–µ—Ç–∞–ª—ñ

### –ö–ª—é—á–æ–≤—ñ –§—É–Ω–∫—Ü—ñ—ó

**`normalizeProduct(name)`** - `services/database.ts:76`
- –í–∏—Ç—è–≥—É—î –∞—Ç—Ä–∏–±—É—Ç–∏ –∑ –Ω–∞–∑–≤–∏ —Ç–æ–≤–∞—Ä—É
- –ü–æ–≤–µ—Ä—Ç–∞—î –±–∞–∑–æ–≤—É –Ω–∞–∑–≤—É —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏

**`getProducts(category)`** - `services/database.ts:143`
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ç–æ–≤–∞—Ä–∏ –∑ –ë–î
- –ì—Ä—É–ø—É—î –∑–∞ –±–∞–∑–æ–≤–æ—é –Ω–∞–∑–≤–æ—é
- –°—Ç–≤–æ—Ä—é—î `variationGroups` –¥–ª—è UI

**`getVariantByOptions(options)`** - `app/product/[id].tsx:335`
- –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –∑–∞ –≤–∏–±—Ä–∞–Ω–∏–º–∏ –æ–ø—Ü—ñ—è–º–∏
- –ü—ñ–¥—Ç—Ä–∏–º—É—î —á–∞—Å—Ç–∫–æ–≤–µ —Å–ø—ñ–≤–ø–∞–¥—ñ–Ω–Ω—è
- –ü–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç –≤–∞—Ä—ñ–∞–Ω—Ç—É –∑ —Ü—ñ–Ω–æ—é

**`handleMatrixOptionSelect(index, value)`** - `app/product/[id].tsx:441`
- –û–±—Ä–æ–±–ª—è—î –≤–∏–±—ñ—Ä –æ–ø—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º
- –û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω `selectedOptions`
- –í–∏–∫–ª–∏–∫–∞—î –ø–æ—à—É–∫ –≤–∞—Ä—ñ–∞–Ω—Ç—É —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–Ω–∏

### –ü–æ—Ç—ñ–∫ –î–∞–Ω–∏—Ö

```
–ë–î ‚Üí getProducts() ‚Üí normalizeProduct() ‚Üí variationGroups
                                              ‚Üì
                                          UI Render
                                              ‚Üì
                                    User Selection
                                              ‚Üì
                              handleMatrixOptionSelect()
                                              ‚Üì
                                  getVariantByOptions()
                                              ‚Üì
                              Update Price & activeVariant
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –ö–æ–ª–∏ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ê–≤—Ç–æ–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è
‚úÖ –¢–æ–≤–∞—Ä–∏ –∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ (—Ñ–∞—Å—É–≤–∞–Ω–Ω—è, —Ñ–æ—Ä–º–∞, —Ä—ñ–∫)
‚úÖ –í–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
‚úÖ –®–≤–∏–¥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

### –ö–æ–ª–∏ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –†—É—á–Ω—ñ –í–∞—Ä—ñ–∞–Ω—Ç–∏
‚úÖ –°–∫–ª–∞–¥–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∞—Ç—Ä–∏–±—É—Ç—ñ–≤
‚úÖ –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (—Å–º–∞–∫, –∫–æ–ª—ñ—Ä, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è)
‚úÖ –†—ñ–∑–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É
‚úÖ –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º

### –ù–∞–π–∫—Ä–∞—â—ñ –ü—Ä–∞–∫—Ç–∏–∫–∏

**–ù–∞–∑–≤–∏ —Ç–æ–≤–∞—Ä—ñ–≤ –¥–ª—è –∞–≤—Ç–æ–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è:**
```
‚úÖ "–ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π –®–ª—è–ø–∫–∏ 100 –≥"
‚úÖ "–á–∂–æ–≤–∏–∫ –ì—Ä–µ–±—ñ–Ω—á–∞—Å—Ç–∏–π –ú–µ–ª–µ–Ω–∏–π 50 –≥ 2024"
‚ùå "–ú—É—Ö–æ–º–æ—Ä (100–≥, —à–ª—è–ø–∫–∏)"  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç
‚ùå "100 –≥ –ú—É—Ö–æ–º–æ—Ä –ß–µ—Ä–≤–æ–Ω–∏–π"  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä—É—á–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:**
```json
{
  "option_names": "–û–ø—Ü—ñ—è1|–û–ø—Ü—ñ—è2|–û–ø—Ü—ñ—è3",  // –ú–∞–∫—Å 3-4 –æ–ø—Ü—ñ—ó
  "variants": [
    {
      "name": "–ó–Ω–∞—á–µ–Ω–Ω—è1|–ó–Ω–∞—á–µ–Ω–Ω—è2|–ó–Ω–∞—á–µ–Ω–Ω—è3",
      "price": 1000,
      "old_price": 1200,  // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
      "image": "url.jpg"   // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
    }
  ]
}
```

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –ö—Ä–æ–∫–∏

### –ì–æ—Ç–æ–≤–æ –¥–æ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞
‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î
‚úÖ UI –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤–∞—Ä—ñ–∞–Ω—Ç–∏
‚úÖ –¶—ñ–Ω–∏ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ

### –ú–æ–∂–ª–∏–≤—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è
üîß –î–æ–¥–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
üîß –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∑–∞–ª–∏—à–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É
üîß –î–æ–¥–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑–æ–±—Ä–∞–∂–µ–Ω—å –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
üîß –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —à–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
üîß –î–æ–¥–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

---

## üìù –§–∞–π–ª–∏ –¥–ª—è –†–æ–±–æ—Ç–∏

### –°—Ç–≤–æ—Ä–µ–Ω—ñ/–û–Ω–æ–≤–ª–µ–Ω—ñ
- `seed_with_variants.py` - –°–∫—Ä–∏–ø—Ç –Ω–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏
- `analyze_variants.py` - –ê–Ω–∞–ª—ñ–∑ —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
- `query_products.py` - –ó–∞–ø–∏—Ç–∏ –¥–æ –ë–î
- `PRODUCT_VARIANTS_ANALYSIS.md` - –î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Å–∏—Å—Ç–µ–º–∏
- `VARIANT_SYSTEM_SUMMARY.md` - –¶–µ–π —Ñ–∞–π–ª (–ø—ñ–¥—Å—É–º–æ–∫)

### –ö–ª—é—á–æ–≤—ñ –§–∞–π–ª–∏ –°–∏—Å—Ç–µ–º–∏
- `services/database.ts` - –õ–æ–≥—ñ–∫–∞ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- `app/product/[id].tsx` - UI –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä—É –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏
- `main.py` - API —Ç–∞ —Å—Ö–µ–º–∞ –ë–î
- `shop.db` - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (13 —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏)

---

## üéì –ü—Ä–∏–∫–ª–∞–¥–∏ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ –°–∫—Ä–∏–ø—Ç—ñ–≤

```bash
# –ù–∞–ø–æ–≤–Ω–∏—Ç–∏ –ë–î —Ç–æ–≤–∞—Ä–∞–º–∏ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏
python seed_with_variants.py

# –ê–Ω–∞–ª—ñ–∑ —Ç–æ–≤–∞—Ä—ñ–≤
python analyze_variants.py

# –ó–∞–ø–∏—Ç —Ç–æ–≤–∞—Ä—ñ–≤
python query_products.py
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –ù–æ–≤–æ–≥–æ –¢–æ–≤–∞—Ä—É

**–ß–µ—Ä–µ–∑ API:**
```javascript
fetch('http://localhost:8000/products', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    name: '–ù–æ–≤–∏–π –¢–æ–≤–∞—Ä',
    price: 500,
    category: '–ö–∞—Ç–µ–≥–æ—Ä—ñ—è',
    option_names: '–†–æ–∑–º—ñ—Ä|–ö–æ–ª—ñ—Ä',
    variants: JSON.stringify([
      { name: 'S|–ß–µ—Ä–≤–æ–Ω–∏–π', price: 500, image: 'url.jpg' },
      { name: 'M|–°–∏–Ω—ñ–π', price: 600, image: 'url2.jpg' }
    ])
  })
});
```

**–ß–µ—Ä–µ–∑ SQL:**
```sql
INSERT INTO products (name, price, category, option_names, variants)
VALUES (
  '–ù–æ–≤–∏–π –¢–æ–≤–∞—Ä',
  500,
  '–ö–∞—Ç–µ–≥–æ—Ä—ñ—è',
  '–†–æ–∑–º—ñ—Ä|–ö–æ–ª—ñ—Ä',
  '[{"name":"S|–ß–µ—Ä–≤–æ–Ω–∏–π","price":500},{"name":"M|–°–∏–Ω—ñ–π","price":600}]'
);
```

---

## ‚ú® –í–∏—Å–Ω–æ–≤–æ–∫

–°–∏—Å—Ç–µ–º–∞ –º—É–ª—å—Ç–∏–≤–∞—Ä—ñ–∞—Ç–∏–≤–Ω–æ—Å—Ç—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

1. ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö** –∑–∞–ø–æ–≤–Ω–µ–Ω–∞ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –æ–±–æ—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è** –ø—Ä–∞—Ü—é—î –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
3. ‚úÖ **–†—É—á–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏** –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å —Å–∫–ª–∞–¥–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó
4. ‚úÖ **UI** –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ç–∞ –æ–Ω–æ–≤–ª—é—î —Ü—ñ–Ω–∏
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è** —Å—Ç–≤–æ—Ä–µ–Ω–∞ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó —Ä–æ–±–æ—Ç–∏

–ú–æ–∂–Ω–∞ –ø–æ—á–∏–Ω–∞—Ç–∏ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ —Ç–æ–≤–∞—Ä–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª!

import sqlite3

conn = sqlite3.connect('services/dikoros.db')
cursor = conn.cursor()

# Описи для різних категорій товарів
descriptions = {
    'Шляпки мухомору червоного': {
        'description': 'Шляпки мухомору червоного (Amanita muscaria) - натуральний продукт, ретельно висушений з дотриманням всіх технологій. Використовується в народній медицині та мікродозингу. Містить природні біоактивні речовини.',
        'composition': 'Шляпки мухомору червоного (Amanita muscaria) сушені, без домішок.',
        'usage': 'Рекомендується консультація з фахівцем перед використанням. Зберігати в сухому прохолодному місці.'
    },
    'Мікродозінг': {
        'description': 'Капсули для мікродозингу створені для підтримки когнітивних функцій, покращення настрою та загального самопочуття. Містять точно виміряну дозу активних компонентів.',
        'composition': 'Екстракт лікарських грибів, рослинна капсула.',
        'usage': 'Приймати по 1 капсулі вранці натщесерце. Курс: 1 місяць прийому, 3-4 дні перерви. Не перевищувати рекомендовану дозу.'
    },
    'CBD': {
        'description': 'Олія CBD на основі МСТ - натуральний продукт для підтримки здоров\'я та благополуччя. Виготовлена з високоякісної сировини, не містить ТГК.',
        'composition': 'Екстракт CBD, МСТ олія (кокосова).',
        'usage': 'Приймати сублінгвально (під язик) 2-3 краплі 2 рази на день. Тримати під язиком 60-90 секунд перед ковтанням.'
    },
    'Настоянка': {
        'description': 'Спиртова настоянка на основі лікарських грибів. Виготовлена за традиційними рецептами з дотриманням всіх технологічних процесів.',
        'composition': 'Екстракт лікарських грибів, спирт харчовий 40%.',
        'usage': 'Приймати по 20-30 крапель, розведених у воді, 2-3 рази на день за 30 хвилин до їжі. Курс: 1 місяць.'
    },
    'Чага': {
        'description': 'Чага (Inonotus obliquus) - березовий гриб, відомий своїми імуномодулюючими та антиоксидантними властивостями. Ретельно висушений та подрібнений.',
        'composition': 'Чага (Inonotus obliquus) сушена, 100% натуральна.',
        'usage': 'Заварювати 1-2 чайні ложки на склянку окропу, настоювати 15-20 хвилин. Пити як чай 2-3 рази на день.'
    },
    'Трутовик лакований': {
        'description': 'Трутовик лакований (Рейші, Ganoderma lucidum) - "гриб безсмертя" в традиційній китайській медицині. Підтримує імунітет та загальне здоров\'я.',
        'composition': 'Трутовик лакований (Ganoderma lucidum) сушений, подрібнений.',
        'usage': 'Заварювати 1 чайну ложку на склянку окропу, кип\'ятити 15 хвилин. Пити по 100 мл 2-3 рази на день.'
    },
    'Їжовик гребінчастий': {
        'description': 'Їжовик гребінчастий (Hericium erinaceus) - гриб для підтримки когнітивних функцій та здоров\'я нервової системи. Містує унікальні біоактивні сполуки.',
        'composition': 'Їжовик гребінчастий (Hericium erinaceus) сушений.',
        'usage': 'Заварювати 1-2 чайні ложки на склянку окропу, настоювати 20 хвилин. Пити 2 рази на день.'
    }
}

# Оновлюємо описи для товарів
for keyword, desc_data in descriptions.items():
    cursor.execute("""
        UPDATE products 
        SET description = ?, composition = ?, usage = ?
        WHERE name LIKE ?
    """, (desc_data['description'], desc_data['composition'], desc_data['usage'], f'%{keyword}%'))
    
    updated = cursor.rowcount
    print(f"✅ Оновлено {updated} товарів для '{keyword}'")

conn.commit()

# Перевіряємо результат
cursor.execute("""
    SELECT name, description 
    FROM products 
    WHERE description IS NOT NULL 
    LIMIT 5
""")

print("\n" + "="*80)
print("ПРИКЛАДИ ТОВАРІВ З ОПИСАМИ:")
print("="*80)
for name, desc in cursor.fetchall():
    print(f"\n{name[:60]}...")
    print(f"  {desc[:80]}...")

conn.close()

print("\n✅ ГОТОВО! Описи додано до товарів")

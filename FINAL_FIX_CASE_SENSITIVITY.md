# üîß –§–∏–Ω–∞–ª—å–Ω–æ–µ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –†–µ–≥–∏—Å—Ç—Ä—É

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–¶–µ–Ω–∞ –≤—Å–µ –µ—â–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∞—Å—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤. –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
```
‚ö†Ô∏è No exact variant found for combination
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–ü—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è —Ä–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤:
- –í –ë–î: `"–ø–æ—Ä–æ—à–æ–∫"` (–º–∞–ª–µ–Ω—å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏)
- –í –æ–ø—Ü–∏—è—Ö: `"–ü–æ—Ä–æ—à–æ–∫"` (—Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `"–ø–æ—Ä–æ—à–æ–∫" !== "–ü–æ—Ä–æ—à–æ–∫"` ‚Üí –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚ùå

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
if (variantValue !== selectedValue) {
    matches = false;
    break;
}
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –≤ `app/product/[id].tsx` (—Å—Ç—Ä–æ–∫–∞ 366-373):

```typescript
// –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
const normalizedSelected = String(selectedValue).toLowerCase().trim();
const normalizedVariant = String(variantValue || '').toLowerCase().trim();

if (normalizedVariant !== normalizedSelected) {
    matches = false;
    break;
}
```

**–¢–µ–ø–µ—Ä—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
- `"–ø–æ—Ä–æ—à–æ–∫".toLowerCase()` === `"–ü–æ—Ä–æ—à–æ–∫".toLowerCase()` ‚Üí —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚úÖ

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

**–¶–µ–Ω–∞ —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏:**
- ‚úÖ –í—ã–±–æ—Ä–µ –≤–µ—Å–∞ (–ª—é–±–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- ‚úÖ –í—ã–±–æ—Ä–µ —Å–æ—Ä—Ç–∞ (–ª—é–±–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- ‚úÖ –í—ã–±–æ—Ä–µ —Ñ–æ—Ä–º—ã (–ª—é–±–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞)
- ‚úÖ –õ—é–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

---

## üöÄ –ß—Ç–æ –ù—É–∂–Ω–æ –°–¥–µ–ª–∞—Ç—å

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - —Ü–µ–Ω–∞ —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ª—é–±–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞!

---

## üìù –ü–æ–ª–Ω—ã–π –°–ø–∏—Å–æ–∫ –í—Å–µ—Ö –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### 1. Regex –∏ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (database.ts)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ "–≥—Ä–∞–º" –≤ regex –≤–µ—Å–∞
- ‚úÖ –£–±—Ä–∞–Ω–∞ "–®–ª—è–ø–∫–∏" –∏–∑ regex —Ñ–æ—Ä–º—ã
- ‚úÖ –§–æ—Ä–º–∞ "–ë–µ–∑ –æ–±—Ä–æ–±–∫–∏" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ä—Ç–∞: "2—Å–æ—Ä—Ç" ‚Üí "2 —Å–æ—Ä—Ç"
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Å–∞: "50–≥—Ä–∞–º" ‚Üí "50 –≥—Ä–∞–º"

### 2. –ü–æ–∏—Å–∫ –í–∞—Ä–∏–∞–Ω—Ç–æ–≤ (product/[id].tsx)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `variationGroups` –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
- ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ (—Ä–µ–≥–∏—Å—Ç—Ä –∏ –ø—Ä–æ–±–µ–ª—ã)**

### 3. –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö (database.ts)
- ‚úÖ –£–±—Ä–∞–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ë–î
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è shop.db —Å 348 —Ç–æ–≤–∞—Ä–∞–º–∏
- ‚úÖ –ë–î –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ

–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç!
